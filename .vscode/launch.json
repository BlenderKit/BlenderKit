{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    // define custom variables

    "version": "0.2.0",
    "configurations": [


        {
            "name": "Run Project Setup",
            "type": "node",
            "request": "launch",
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "windows": {
                "runtimeExecutable": "${workspaceFolder}/.vscode/pdm_setup_project.bat",
            },
            "linux": {
                "runtimeExecutable": "${workspaceFolder}/.vscode/pdm_setup_project.sh",
            },
            "osx": {
                "runtimeExecutable": "${workspaceFolder}/.vscode/pdm_setup_project.sh",
            }
        },

        {
            "name": "Build Addon and Hardlink",
            "type": "debugpy",
            "request": "launch",
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "program": "${workspaceFolder}/.vscode/build_and_hardlink_addon_to_blenders.py",
            "args": [
                "build",
            ],
            "windows": {
                "python": "${workspaceFolder}/.venv/Scripts/python.exe",
            },
            "linux": {
                "python": "${workspaceFolder}/.venv/bin/python",
            },
            "osx": {
                "python": "${workspaceFolder}/.venv/bin/python",
            }
        },

        {
            "name": "Run Blender 5.0.1",
            "type": "cppvsdbg",
            "request": "launch",
            "program": "D:/blenders/5.0.1/blender.exe",
            "args": [],
            "stopAtEntry": false,
            "cwd": "${workspaceFolder}",
            "externalConsole": false,
            "environment": [
                // {"name": "BK_SKIP_NEW_THUMBNAILS",
                // "value": "1"},
            ],
        },


        {
            "name": "Run dev.py test install",
            "type": "debugpy",
            "request": "launch",
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "program": "${workspaceFolder}/dev.py",
            "args": [
                "test",
                "--install-at",
                "c:/temp/runner/blender/scripts/addons",
            ],
            "windows": {
                "python": "${workspaceFolder}/.venv/Scripts/python.exe",
            },
            "linux": {
                "python": "${workspaceFolder}/.venv/bin/python",
            },
            "osx": {
                "python": "${workspaceFolder}/.venv/bin/python",
            }
        },


        {
            "name": "[BLACK] Run black on all",
            "type": "debugpy",
            "request": "launch",
            "module": "black",
            "args": [
                "${workspaceFolder}/*.py",
                "--check", "--diff",

            ],
            "console": "integratedTerminal",
            "windows": {
                "python": "${workspaceFolder}/.venv/Scripts/python.exe",
            },
            "linux": {
                "python": "${workspaceFolder}/.venv/bin/python",
            },
            "osx": {
                "python": "${workspaceFolder}/.venv/bin/python",
            }
        },

        {
            "name": "[BLACK] Run black on git changed files",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/.vscode/black_git_changed.py",
            "args": [],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "windows": {
                "python": "${workspaceFolder}/.venv/Scripts/python.exe",
            },
            "linux": {
                "python": "${workspaceFolder}/.venv/bin/python",
            },
            "osx": {
                "python": "${workspaceFolder}/.venv/bin/python",
            }
        },

        {
            "name": "[GOFMT] Check client",
            "type": "node",
            "request": "launch",
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "windows": {
                "runtimeExecutable": "powershell",
                "args": [
                    "-NoLogo",
                    "-NoProfile",
                    "-Command",
                    "$fmt = gofmt -l ./client; if ($fmt) { Write-Host 'Go files need formatting:'; $fmt; Write-Host ''; Write-Host 'gofmt diff:'; gofmt -d ./client; exit 1 } else { Write-Host 'Go files are formatted.' }"
                ]
            },
            "linux": {
                "runtimeExecutable": "/bin/bash",
                "args": [
                    "-c",
                    "fmt_out=\"$(gofmt -l ./client)\"; if [ -n \"$fmt_out\" ]; then echo 'Go files need formatting:'; echo \"$fmt_out\"; echo ''; echo 'gofmt diff:'; gofmt -d ./client; exit 1; else echo 'Go files are formatted.'; fi"
                ]
            },
            "osx": {
                "runtimeExecutable": "/bin/bash",
                "args": [
                    "-c",
                    "fmt_out=\"$(gofmt -l ./client)\"; if [ -n \"$fmt_out\" ]; then echo 'Go files need formatting:'; echo \"$fmt_out\"; echo ''; echo 'gofmt diff:'; gofmt -d ./client; exit 1; else echo 'Go files are formatted.'; fi"
                ]
            }
        },

        {
            "name": "[GOFMT] Fix client",
            "type": "node",
            "request": "launch",
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "windows": {
                "runtimeExecutable": "powershell",
                "args": [
                    "-NoLogo",
                    "-NoProfile",
                    "-Command",
                    "$fmt = gofmt -w ./client; if ($fmt) { Write-Host 'Go files need formatting:'; $fmt; Write-Host ''; Write-Host 'gofmt diff:'; gofmt -d ./client; exit 1 } else { Write-Host 'Go files are formatted.' }"
                ]
            },
            "linux": {
                "runtimeExecutable": "/bin/bash",
                "args": [
                    "-c",
                    "fmt_out=\"$(gofmt -w ./client)\"; if [ -n \"$fmt_out\" ]; then echo 'Go files need formatting:'; echo \"$fmt_out\"; echo ''; echo 'gofmt diff:'; gofmt -d ./client; exit 1; else echo 'Go files are formatted.'; fi"
                ]
            },
            "osx": {
                "runtimeExecutable": "/bin/bash",
                "args": [
                    "-c",
                    "fmt_out=\"$(gofmt -w ./client)\"; if [ -n \"$fmt_out\" ]; then echo 'Go files need formatting:'; echo \"$fmt_out\"; echo ''; echo 'gofmt diff:'; gofmt -d ./client; exit 1; else echo 'Go files are formatted.'; fi"
                ]
            }
        },

        {
            "name": "[FUTURE][RUFF] Check All",
            "type": "debugpy",
            "request": "launch",
            "module": "ruff",
            "args": [
                "check",
                "."
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "windows": {
                "python": "${workspaceFolder}/.venv/Scripts/python.exe",
            },
            "linux": {
                "python": "${workspaceFolder}/.venv/bin/python",
            },
            "osx": {
                "python": "${workspaceFolder}/.venv/bin/python",
            }
        },

        {
            "name": "[FUTURE][BANDIT] Check All",
            "type": "debugpy",
            "request": "launch",
            "module": "bandit",
            "args": [
                "-c", "_bandit.yaml",
                "-ll",
                "-r", ".",
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "windows": {
                "python": "${workspaceFolder}/.venv/Scripts/python.exe",
            },
            "linux": {
                "python": "${workspaceFolder}/.venv/bin/python",
            },
            "osx": {
                "python": "${workspaceFolder}/.venv/bin/python",
            }
        },

        {
            "name": "[FUTURE][PYDOCS] Check All",
            "type": "node",
            "request": "launch",
            "args": ["."],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",

            "windows": {
                "runtimeExecutable": "${workspaceFolder}/.venv/Scripts/pydoclint.exe",
            },
            "linux": {
                "runtimeExecutable": "${workspaceFolder}/.venv/bin/pydoclint",
            },
            "osx": {
                "runtimeExecutable": "${workspaceFolder}/.venv/bin/pydoclint",
            }
        },

    ]
}
